{
	id: "status_effect_attache",
	is_strict: true,
	zorder: "@include data/zorder.cfg:in_front_of_everything",
	always_active: true,
	solid_dimensions: [],

	prototype: ["effects_attache"],



	properties: {
		kind: { type: "StatusEffectKind", dynamic_initialization: true },
		cycle_started_at: { type: "int", dynamic_initialization: true },
		
	
#-------------------------- custom_behavior --------------------------#
		info_for_kind: "StatusEffectKindInfo :: find_or_die(
													me._parent_obj.status_effect_presets,
													value.kind = me.kind
												)",

		affect_parent_status: "if(is_alive, info_for_kind.process_effect(obj status_effect_attache <- me))",

		consider_suicide: "if(level.cycle > cycle_started_at + info_for_kind.duration, schedule_death_cleanup)",
		
#-------------------------- prototype overrides --------------------------#
		do_setup: "[initialize_position, set(cycle_started_at, level.cycle)]",
	},

	
	on_process: "affect_parent_status",

}
